# ==============================================
# RabbitFun Launchpad - Backend Environment Variables
# ==============================================
# Copy this file to .env.local for development
# Copy this file to .env.production for production

# ---------- Server Configuration ----------
PORT=3001
NODE_ENV=development
HOST=localhost

# Server Features
SERVER_ENABLED=true
API_ENABLED=true
WEBSOCKET_ENABLED=true
CRON_JOBS_ENABLED=true

# Performance Configuration
MAX_CONNECTIONS=1000
CONNECTION_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=65000
BODY_LIMIT=10mb

# ---------- Database Configuration ----------
# Primary Database (PostgreSQL)
DATABASE_URL=postgresql://username:password@localhost:5432/rabbitfun_launchpad
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=rabbitfun_launchpad
DATABASE_USER=postgres
DATABASE_PASSWORD=your-secure-password
DATABASE_SSL=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# Database Features
DATABASE_ENABLED=true
DATABASE_LOGGING=false
DATABASE_TIMEZONE=UTC
DATABASE_AUTO_MIGRATE=true

# ---------- Redis Configuration ----------
# Redis for caching and sessions
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_ENABLED=true

# Redis Features
REDIS_SESSIONS=true
REDIS_CACHE=true
REDIS_RATE_LIMIT=true
REDIS_PUBSUB=true

# ---------- Blockchain Configuration ----------
# BSC Network Configuration
BSC_RPC_URL=https://bsc-dataseed.binance.org
BSC_RPC_BACKUP_URL=https://bsc-dataseed1.defibit.io
BSC_CHAIN_ID=56
BSC_BLOCK_TIME=3000
BSC_GAS_LIMIT=21000

# Smart Contract Addresses
LAUNCHPAD_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
TOKEN_FACTORY_ADDRESS=0x0000000000000000000000000000000000000000
BONDING_CURVE_ADDRESS=0x0000000000000000000000000000000000000000
ROUTER_ADDRESS=0x10ED43C718714eb63d5aA57B78B54704E256024E
TREASURY_ADDRESS=0x0000000000000000000000000000000000000000

# Testnet Configuration
BSC_TESTNET_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545
BSC_TESTNET_CHAIN_ID=97
LAUNCHPAD_TESTNET_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000

# Blockchain Features
BLOCKCHAIN_ENABLED=false
BLOCKCHAIN_WEBHOOK_ENABLED=true
BLOCKCHAIN_SYNC_ENABLED=false
CONTRACT_VERIFICATION_ENABLED=false

# ---------- Security Configuration ----------
# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d
JWT_ALGORITHM=HS256
JWT_ISSUER=rabbitfun-launchpad
JWT_AUDIENCE=rabbitfun-users

# CORS Configuration
CORS_ORIGIN=http://localhost:5173,http://localhost:3000,https://rabbitfun.io
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_MAX_REQUESTS_API=1000
RATE_LIMIT_MAX_REQUESTS_AUTH=500
RATE_LIMIT_MAX_REQUESTS_TOKEN_CREATE=10
RATE_LIMIT_STRICT_MODE=false

# Security Headers
HELMET_ENABLED=true
FRAMEGUARD_ACTION=DENY
HSTS_ENABLED=false
HSTS_MAX_AGE=31536000
CSP_ENABLED=false

# ---------- API Keys Configuration ----------
# Blockchain APIs
BSCSCAN_API_KEY=your-bscscan-api-key
MORALIS_API_KEY=your-moralis-api-key
INFURA_PROJECT_ID=your-infura-project-id
ALCHEMY_API_KEY=your-alchemy-api-key

# External APIs
COINGECKO_API_KEY=your-coingecko-api-key
COINMARKETCAP_API_KEY=your-coinmarketcap-api-key
DEXSCREENER_API_KEY=your-dexscreener-api-key

# Social APIs
TWITTER_API_KEY=your-twitter-api-key
TWITTER_API_SECRET=your-twitter-api-secret
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
DISCORD_BOT_TOKEN=your-discord-bot-token

# ---------- File Storage Configuration ----------
# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
S3_BUCKET_NAME=rabbitfun-uploads
S3_BUCKET_REGION=us-east-1

# CDN Configuration
CDN_ENABLED=false
CDN_URL=https://cdn.rabbitfun.io
CDN_PROVIDER=cloudflare
CDN_VERSION=1.0.0

# File Upload Configuration
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,webp,svg,pdf
UPLOAD_TEMP_DIR=/tmp/uploads
STORAGE_TYPE=local

# ---------- Email Configuration ----------
# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@rabbitfun.io
SMTP_FROM_NAME=RabbitFun Launchpad

# Email Features
EMAIL_ENABLED=false
EMAIL_VERIFICATION_ENABLED=false
EMAIL_NOTIFICATIONS_ENABLED=false
EMAIL_TEMPLATES_DIR=./templates/email

# ---------- Monitoring & Logging ----------
# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_TO_CONSOLE=true
LOG_TO_FILE=false
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=10485760
LOG_MAX_FILES=5

# Error Tracking
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development
SENTRY_SAMPLE_RATE=1.0
SENTRY_TRACES_SAMPLE_RATE=0.1

# Performance Monitoring
NEW_RELIC_ENABLED=false
NEW_RELIC_LICENSE_KEY=your-newrelic-license-key
NEW_RELIC_APP_NAME=rabbitfun-launchpad

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_INTERVAL=30000

# ---------- Feature Flags ----------
# Application Features
ENABLE_REGISTRATION=true
ENABLE_SOCIAL_LOGIN=false
ENABLE_EMAIL_VERIFICATION=false
ENABLE_2FA=false
ENABLE_REFERRALS=false

# Trading Features
ENABLE_TRADING=false
ENABLE_STAKING=false
ENABLE_LIQUIDITY_MINING=false
ENABLE_GOVERNANCE=false

# Admin Features
ENABLE_ADMIN_PANEL=false
ENABLE_ANALYTICS=false
ENABLE_MODERATION=false
ENABLE_BULK_OPERATIONS=false

# ---------- Cron Jobs Configuration ----------
# Analytics and Sync Jobs
ANALYTICS_UPDATE_SCHEDULE=0 */5 * * * *
TOKEN_SYNC_SCHEDULE=*/10 * * * *
PRICE_UPDATE_SCHEDULE=*/2 * * * *
CLEANUP_SCHEDULE=0 0 * * * *

# Notification Jobs
EMAIL_DIGEST_SCHEDULE=0 8 * * *
NOTIFICATION_PROCESSING_SCHEDULE=*/1 * * * *

# Maintenance Jobs
DATABASE_BACKUP_SCHEDULE=0 2 * * * *
LOG_ROTATION_SCHEDULE=0 0 * * * *
CACHE_CLEANUP_SCHEDULE=0 */6 * * * *

# ---------- Third-party Integrations ----------
# Analytics Services
GOOGLE_ANALYTICS_ID=your-ga-id
MIXPANEL_TOKEN=your-mixpanel-token
AMPLITUDE_API_KEY=your-amplitude-key

# Communication Services
DISCORD_WEBHOOK_URL=your-discord-webhook-url
SLACK_WEBHOOK_URL=your-slack-webhook-url
TELEGRAM_WEBHOOK_URL=your-telegram-webhook-url

# Payment Services
STRIPE_SECRET_KEY=your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=your-stripe-webhook-secret

# ---------- Testing Configuration ----------
# Test Environment
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/rabbitfun_test
TEST_REDIS_URL=redis://localhost:6379/1
TEST_BLOCKCHAIN_NETWORK=localhost

# Test Features
TEST_MODE=false
MOCK_EXTERNAL_APIS=true
ENABLE_TEST_ROUTES=false
SKIP_AUTH_IN_TESTS=true

# ---------- Development Configuration ----------
# Development Server
DEV_SEED_DATA=true
DEV_AUTO_MIGRATE=true
DEV_SYNC_CONTRACTS=false
DEV_ENABLE_CORS=true

# Debug Features
DEBUG_SQL=false
DEBUG_REDIS=false
DEBUG_REQUESTS=false
DEBUG_PERFORMANCE=false

# ---------- Production Configuration ----------
# Production Settings
PRODUCTION_CORS_ORIGIN=https://rabbitfun.io
PRODUCTION_DATABASE_POOL_MAX=20
PRODUCTION_REDIS_POOL_MAX=50
PRODUCTION_RATE_LIMIT_ENABLED=true

# Performance Optimization
PRODUCTION_COMPRESSION=true
PRODUCTION_CACHING=true
PRODUCTION_CLUSTERING=false
PRODUCTION_LOG_LEVEL=warn

# Security Hardening
PRODUCTION_HTTPS_ONLY=true
PRODUCTION_HELMET_ENABLED=true
PRODUCTION_RATE_LIMIT_STRICT=true
PRODUCTION_SESSION_SECURE=true

# ---------- Emergency Controls ----------
# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=Under maintenance. Please check back soon.
MAINTENANCE_BYPASS_KEY=your-maintenance-bypass-key

# Emergency Shutdown
EMERGENCY_SHUTDOWN=false
EMERGENCY_MESSAGE=Service temporarily unavailable.
EMERGENCY_CONTACT_EMAIL=support@rabbitfun.io

# ---------- Advanced Configuration ----------
# Microservices
MICROSERVICE_MODE=false
API_GATEWAY_URL=http://localhost:8080
SERVICE_DISCOVERY_ENABLED=false

# Load Balancing
LOAD_BALANCER_ENABLED=false
LOAD_BALANCER_ALGORITHM=round-robin
HEALTH_CHECK_INTERVAL=10000

# Caching Strategies
CACHE_STRATEGY=redis
CACHE_DEFAULT_TTL=300
CACHE_MAX_KEYS=10000
CACHE_COMPRESSION=true

# Database Optimization
DATABASE_CONNECTION_POOLING=true
DATABASE_QUERY_CACHE=true
DATABASE_INDEX_OPTIMIZATION=true
DATABASE_SLOW_QUERY_LOG=false

# ---------- Developer Notes ----------
#
# SECURITY INSTRUCTIONS:
# 1. Never commit actual .env files to version control
# 2. Use strong, unique secrets for production
# 3. Rotate secrets regularly
# 4. Use environment-specific secrets management
# 5. Enable all security features in production
# 6. Monitor for security vulnerabilities
#
# DEPLOYMENT INSTRUCTIONS:
# 1. Copy .env.example to .env.production
# 2. Replace all placeholder values with production values
# 3. Test database connections
# 4. Verify blockchain RPC connectivity
# 5. Test all third-party API integrations
# 6. Enable security monitoring
#
# TROUBLESHOOTING:
# - Check database connectivity and credentials
# - Verify Redis connection and permissions
# - Test blockchain RPC URLs and contracts
# - Monitor rate limiting and security headers
# - Check cron job execution
# - Validate file storage permissions
#
# PERFORMANCE OPTIMIZATION:
# - Enable database connection pooling
# - Configure appropriate cache TTL values
# - Optimize rate limiting thresholds
# - Monitor memory usage and connections
# - Regular database maintenance and indexing